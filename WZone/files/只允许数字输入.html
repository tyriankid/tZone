<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title>Untitled Page</title>
</head>
<body>
<script>
    var REG=/^(-$|-\d*|-\d*\.|-\d*\.\d*|0|\d*|\d*\.|\d*\.\d*)$/
    function regInput(obj, reg, inputStr) {
        var docSel = document.selection.createRange()
        if (docSel.parentElement().tagName != "INPUT") return false
        oSel = docSel.duplicate()
        oSel.text = ""
        var srcRange = obj.createTextRange()
        oSel.setEndPoint("StartToStart", srcRange)
        var str = oSel.text + inputStr + srcRange.text.substr(oSel.text.length);
        return reg.test(str)
    }
</script>
<input type="text" id="txt" onkeypress    = "return regInput(this,REG,String.fromCharCode(event.keyCode))">
 
</body>
</html>